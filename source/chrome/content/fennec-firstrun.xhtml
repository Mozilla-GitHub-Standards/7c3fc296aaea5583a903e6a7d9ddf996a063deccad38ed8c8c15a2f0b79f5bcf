<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" [
<!ENTITY % firstrunDTD SYSTEM "chrome://weave/locale/fennec-firstrun.dtd" >
%firstrunDTD;
]>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>&firstrun.title;</title>
  <link rel="icon" type="image/png" href="chrome://weave/skin/sync-32x32.png" />
  <link rel="stylesheet" type="text/css" href="chrome://weave/skin/fennec-firstrun.css" />
  <script type="application/javascript;version=1.8"><![CDATA[
  let Ci = Components.interfaces;
  let chromeWin = window.QueryInterface(Ci.nsIInterfaceRequestor).
    getInterface(Ci.nsIWebNavigation).QueryInterface(Ci.nsIDocShellTreeItem).
    rootTreeItem.QueryInterface(Ci.nsIInterfaceRequestor).
    getInterface(Ci.nsIDOMWindow).QueryInterface(Ci.nsIDOMChromeWindow);
  let doc = chromeWin.document;
  let ev = chromeWin.ExtensionsView;

  function showConnect() {
    doc.getElementById("tool-panel-open").click();
    setTimeout(function() {
      doc.getElementById("tool-addons").click();
      setTimeout(function() {
        Components.utils.import("resource://weave/service.js");
        ev.showOptions(Weave.WEAVE_ID);
      }, 300);
    }, 300);
  }
  ]]></script>
</head>
<body>
  <div id="container">
    <div class="logo"><img src="chrome://weave/skin/weave_logo.png"/></div>
    <div class="welcome">&intro.description;</div>

    <ol>
      <li class="step">&step1.description;</li>
      <li class="step">&step2.description;</li>
      <li class="step">&step3.description;</li>
    </ol>

    <input class="button" type="button" onclick="showConnect();" value="&connect.label;"/>

  </div>
</body>
</html>
